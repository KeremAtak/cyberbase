{"ast":null,"code":"import _objectWithoutProperties from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/atak/cyberbase/frontend/src/ProtectedRoute.js\";\nimport React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nvar ProtectedRoute =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProtectedRoute, _React$Component);\n\n  function ProtectedRoute() {\n    var _this;\n\n    _classCallCheck(this, ProtectedRoute);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProtectedRoute).call(this));\n\n    _this.isAuthenticated = function () {\n      if (_this.state.user.access !== \"admin\") {\n        return true;\n      }\n\n      return false;\n    };\n\n    _this.state = {\n      user: null\n    };\n    return _this;\n  }\n\n  _createClass(ProtectedRoute, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var loggedUserJSON = window.localStorage.getItem('loggedUser');\n\n      if (loggedUserJSON) {\n        var user = JSON.parse(loggedUserJSON);\n        console.log(user);\n        this.setState({\n          user: user\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          Component = _this$props.component,\n          props = _objectWithoutProperties(_this$props, [\"component\"]);\n\n      return React.createElement(Route, Object.assign({}, props, {\n        render: function render(props) {\n          return _this2.authenticated ? React.createElement(Component, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37\n            },\n            __self: this\n          })) : React.createElement(Redirect, {\n            to: \"/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ProtectedRoute;\n}(React.Component);\n\nexport default ProtectedRoute;","map":{"version":3,"sources":["/home/atak/cyberbase/frontend/src/ProtectedRoute.js"],"names":["React","Route","Redirect","ProtectedRoute","isAuthenticated","state","user","access","loggedUserJSON","window","localStorage","getItem","JSON","parse","console","log","setState","props","Component","component","authenticated"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;;IAEMC,c;;;;;AAEF,4BAAc;AAAA;;AAAA;;AAChB;;AADgB,UAgBdC,eAhBc,GAgBI,YAAM;AACpB,UAAI,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,MAAhB,KAA2B,OAA/B,EAAwC;AACpC,eAAO,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KArBa;;AAEhB,UAAKF,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAE;AADM,KAAb;AAFgB;AAKhB;;;;yCAEuB;AACjB,UAAME,cAAc,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAvB;;AACA,UAAIH,cAAJ,EAAoB;AAChB,YAAMF,IAAI,GAAGM,IAAI,CAACC,KAAL,CAAWL,cAAX,CAAb;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AACA,aAAKU,QAAL,CAAc;AAAEV,UAAAA,IAAI,EAAJA;AAAF,SAAd;AACH;AACJ;;;6BASQ;AAAA;;AAAA,wBACsC,KAAKW,KAD3C;AAAA,UACcC,SADd,eACGC,SADH;AAAA,UAC4BF,KAD5B;;AAGL,aACI,oBAAC,KAAD,oBACQA,KADR;AAEI,QAAA,MAAM,EAAE,gBAAAA,KAAK;AAAA,iBACT,MAAI,CAACG,aAAL,GACI,oBAAC,SAAD,oBAAeH,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,GAEI,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHK;AAAA,SAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ;AAUH;;;;EAtCwBjB,KAAK,CAACkB,S;;AAyCnC,eAAef,cAAf","sourcesContent":["import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nclass ProtectedRoute extends React.Component {\n    \n    constructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tuser: null\n\t\t}\n\t}\n\n    componentWillMount() {\n        const loggedUserJSON = window.localStorage.getItem('loggedUser')\n        if (loggedUserJSON) {\n            const user = JSON.parse(loggedUserJSON)\n            console.log(user)\n            this.setState({ user })\n        }\n    }\n\n    isAuthenticated = () => {\n        if (this.state.user.access !== \"admin\") {\n            return true\n        }\n        return false\n    }\n\n    render() {\n        const { component: Component, ...props } = this.props\n\n        return (\n            <Route\n                {...props}\n                render={props => (\n                    this.authenticated ?\n                        <Component {...props} /> :\n                        <Redirect to='/' />\n                )}\n            />\n        )\n    }\n}\n\nexport default ProtectedRoute"]},"metadata":{},"sourceType":"module"}