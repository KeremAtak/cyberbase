{"ast":null,"code":"import _classCallCheck from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/atak/cyberbase/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/atak/cyberbase/frontend/src/components/LoginForm.js\";\n\nimport React from 'react';\nimport '../styles.css';\n\nlogin =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(event) {\n    var user;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            event.preventDefault();\n            _context.prev = 1;\n            _context.next = 4;\n            return loginService.login({\n              username: _this.state.username,\n              password: _this.state.password\n            });\n\n          case 4:\n            user = _context.sent;\n            window.localStorage.setItem('loggedNoteappUser', JSON.stringify(user));\n            noteService.setToken(user.token);\n\n            _this.setState({\n              username: '',\n              password: '',\n              user: user\n            });\n\n            _context.next = 14;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n\n            _this.setState({\n              error: 'käyttäjätunnus tai salasana virheellinen'\n            });\n\n            setTimeout(function () {\n              _this.setState({\n                error: null\n              });\n            }, 5000);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 10]]);\n  }));\n\n  return function login(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar LoginForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginForm, _React$Component);\n\n  function LoginForm() {\n    _classCallCheck(this, LoginForm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LoginForm).apply(this, arguments));\n  }\n\n  _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        class: \"login-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        method: \"post\",\n        onSubmit: this.login(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        class: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, \"Insecure cyberbase app\"), React.createElement(\"h2\", {\n        class: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, \"Login Form\"), React.createElement(\"div\", {\n        class: \"illustration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"icon ion-ios-locked-outline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        class: \"form-control\",\n        type: \"username\",\n        name: \"username\",\n        placeholder: \"Username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        class: \"form-control\",\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        class: \"btn btn-primary btn-block\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Log In\"))));\n    }\n  }]);\n\n  return LoginForm;\n}(React.Component);\n\nexport default LoginForm;","map":{"version":3,"sources":["/home/atak/cyberbase/frontend/src/components/LoginForm.js"],"names":["React","login","event","preventDefault","loginService","username","state","password","user","window","localStorage","setItem","JSON","stringify","noteService","setToken","token","setState","error","setTimeout","LoginForm","Component"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;;AAEAC,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACJA,YAAAA,KAAK,CAACC,cAAN;AADI;AAAA;AAAA,mBAGiBC,YAAY,CAACH,KAAb,CAAmB;AACpCI,cAAAA,QAAQ,EAAE,KAAI,CAACC,KAAL,CAAWD,QADe;AAEpCE,cAAAA,QAAQ,EAAE,KAAI,CAACD,KAAL,CAAWC;AAFe,aAAnB,CAHjB;;AAAA;AAGIC,YAAAA,IAHJ;AAQFC,YAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,mBAA5B,EAAiDC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAjD;AACAM,YAAAA,WAAW,CAACC,QAAZ,CAAqBP,IAAI,CAACQ,KAA1B;;AACA,YAAA,KAAI,CAACC,QAAL,CAAc;AAAEZ,cAAAA,QAAQ,EAAE,EAAZ;AAAgBE,cAAAA,QAAQ,EAAE,EAA1B;AAA8BC,cAAAA,IAAI,EAAJA;AAA9B,aAAd;;AAVE;AAAA;;AAAA;AAAA;AAAA;;AAYF,YAAA,KAAI,CAACS,QAAL,CAAc;AACZC,cAAAA,KAAK,EAAE;AADK,aAAd;;AAGAC,YAAAA,UAAU,CAAC,YAAM;AACf,cAAA,KAAI,CAACF,QAAL,CAAc;AAAEC,gBAAAA,KAAK,EAAE;AAAT,eAAd;AACD,aAFS,EAEP,IAFO,CAAV;;AAfE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA;AAAA;AAAA;AAAA,GAAL;;IAqBME,S;;;;;;;;;;;;;6BACI;AACR,aACC;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAM,QAAA,MAAM,EAAC,MAAb;AAAoB,QAAA,QAAQ,EAAE,KAAKnB,KAAL,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAI,QAAA,KAAK,EAAC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADD,EAEC;AAAI,QAAA,KAAK,EAAC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,EAGC;AAAK,QAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAG,QAAA,KAAK,EAAC,6BAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAHD,EAMC;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAO,QAAA,KAAK,EAAC,cAAb;AAA4B,QAAA,IAAI,EAAC,UAAjC;AAA4C,QAAA,IAAI,EAAC,UAAjD;AAA4D,QAAA,WAAW,EAAC,UAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAND,EASC;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAO,QAAA,KAAK,EAAC,cAAb;AAA4B,QAAA,IAAI,EAAC,UAAjC;AAA4C,QAAA,IAAI,EAAC,UAAjD;AAA4D,QAAA,WAAW,EAAC,UAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CATD,EAYC;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAQ,QAAA,KAAK,EAAC,2BAAd;AAA0C,QAAA,IAAI,EAAC,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,CAZD,CADD,CADD;AAoBA;;;;EAtBsBD,KAAK,CAACqB,S;;AAyB9B,eAAeD,SAAf","sourcesContent":["import React from 'react';\nimport '../styles.css'\n\nlogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username: this.state.username,\n        password: this.state.password\n      })\n\n      window.localStorage.setItem('loggedNoteappUser', JSON.stringify(user))\n      noteService.setToken(user.token)\n      this.setState({ username: '', password: '', user })\n    } catch (exception) {\n      this.setState({\n        error: 'käyttäjätunnus tai salasana virheellinen',\n      })\n      setTimeout(() => {\n        this.setState({ error: null })\n      }, 5000)\n    }\n  }\n\nclass LoginForm extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div class=\"login-dark\">\n\t\t\t\t<form method=\"post\" onSubmit={this.login()}>\n\t\t\t\t\t<h1 class=\"sr-only\">Insecure cyberbase app</h1>\n\t\t\t\t\t<h2 class=\"sr-only\">Login Form</h2>\n\t\t\t\t\t<div class=\"illustration\">\n\t\t\t\t\t\t<i class=\"icon ion-ios-locked-outline\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input class=\"form-control\" type=\"username\" name=\"username\" placeholder=\"Username\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input class=\"form-control\" type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<button class=\"btn btn-primary btn-block\" type=\"submit\">Log In</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}