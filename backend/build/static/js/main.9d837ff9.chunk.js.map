{"version":3,"sources":["services/messages.js","components/Home.js","services/login.js","components/LoginForm.js","components/RegisterForm.js","components/Admin.js","ProtectedRoute.js","App.js","serviceWorker.js","index.js"],"names":["baseUrl","token","services_messages","getAll","axios","get","then","response","data","create","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","this","_x","apply","arguments","setToken","newToken","concat","remove","id","delete","Home","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","logOut","event","preventDefault","window","localStorage","removeItem","setState","user","error","alert","console","log","handleChange","newMessage","target","value","addNewMessage","messageObject","content","state","date","Date","messageService","messages","helloUser","react_default","createElement","userIsLoggedIn","username","addNewMessageForm","class","onChange","type","name","placeholder","onClick","viewLoginButtons","className","href","viewAdmin","userIsAdmin","viewMessages","messagesToRender","i","length","push","_this2","loggedUserJSON","getItem","JSON","parse","React","Component","services_login","login","credentials","register","_ref2","_callee2","_context2","_x2","LoginForm","loginService","password","setItem","stringify","location","replace","t0","defineProperty","method","RegisterForm","Admin","_loop","deleteMessage","ProtectedRoute","_this$props","props","component","objectWithoutProperties","Route","assign","render","Redirect","to","App","access","BrowserRouter","Switch","exact","path","src_ProtectedRoute","Boolean","hostname","match","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iTACMA,EAAU,qCAEZC,EAAQ,KAyBGC,EAAA,CAAEC,OAvBF,WAEb,OADgBC,IAAMC,IAAIL,GACXM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAqBlBC,OAdb,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOC,GAAP,IAAAC,EAAAX,EAAA,OAAAM,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACPJ,EAAS,CACbK,QAAS,CAAEC,cAAiBvB,IAFjBmB,EAAAE,KAAA,EAKUlB,IAAMqB,KAAKzB,EAASiB,EAAWC,GALzC,cAKPX,EALOa,EAAAM,KAAAN,EAAAO,OAAA,SAMNpB,EAASC,MANH,wBAAAY,EAAAQ,SAAAZ,EAAAa,SAAH,gBAAAC,GAAA,OAAApB,EAAAqB,MAAAF,KAAAG,YAAA,GAcqBC,SAlBhB,SAACC,GAChBjC,EAAK,UAAAkC,OAAaD,IAiBuBE,OAL5B,SAACC,GAEd,OADgBjC,IAAMkC,OAAN,GAAAH,OAAgBnC,EAAhB,KAAAmC,OAA2BE,IAC5B/B,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SCiJ5B+B,cApKd,SAAAA,IAAc,IAAAC,EAAA,OAAA7B,OAAA8B,EAAA,EAAA9B,CAAAkB,KAAAU,IACbC,EAAA7B,OAAA+B,EAAA,EAAA/B,CAAAkB,KAAAlB,OAAAgC,EAAA,EAAAhC,CAAA4B,GAAAK,KAAAf,QAwBDgB,OAAS,SAACC,GACTA,EAAMC,iBACN,IACCC,OAAOC,aAAaC,WAAW,cAC/BV,EAAKW,SAAS,CACbC,KAAM,OAEN,MAAOC,GACRC,MAAMD,GACNE,QAAQC,IAAIH,KAlCAb,EAsCdiB,aAAe,SAACX,GACfN,EAAKW,SAAS,CAAEO,WAAYZ,EAAMa,OAAOC,SAvC5BpB,EA0CdqB,cA1Cc,eAAAnD,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KA0CE,SAAAC,EAAO8B,GAAP,IAAAgB,EAAA,OAAAjD,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACfwB,EAAMC,iBACAe,EAAgB,CACrBC,QAASvB,EAAKwB,MAAMN,WACpBO,KAAM,IAAIC,KACVd,KAAMZ,EAAKwB,MAAMZ,MAGlBe,EAAe1D,OAAOqD,GACpBxD,KAAK,SAAAoD,GACLlB,EAAKW,SAAS,CACbiB,SAAU5B,EAAKwB,MAAMI,SAASjC,OAAOuB,GACrCA,WAAY,OAZA,wBAAAtC,EAAAQ,SAAAZ,EAAAa,SA1CF,gBAAAC,GAAA,OAAApB,EAAAqB,MAAAF,KAAAG,YAAA,GAAAQ,EA2Dd6B,UAAY,WACX,OACCC,EAAAxD,EAAAyD,cAAA,WAEE/B,EAAKgC,iBACJF,EAAAxD,EAAAyD,cAAA,uBAAe/B,EAAKwB,MAAMZ,KAAKqB,SAA/B,KACE,kBAjEOjC,EAuEdkC,kBAAoB,WACnB,OACCJ,EAAAxD,EAAAyD,cAAA,WAEE/B,EAAKgC,iBAEJF,EAAAxD,EAAAyD,cAAA,WACCD,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,SAAOX,MAAOpB,EAAKwB,MAAMN,WAAYkB,SAAUpC,EAAKiB,aAAckB,MAAM,eAAeE,KAAK,OAAOC,KAAK,UAAUC,YAAY,SAE/HT,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,UAAQI,MAAM,4BAA4BE,KAAK,SAASG,QAASxC,EAAKqB,eAAtE,qBAGA,kDArFOrB,EA2FdyC,iBAAmB,WAClB,OACCX,EAAAxD,EAAAyD,cAAA,WAEE/B,EAAKgC,iBACFF,EAAAxD,EAAAyD,cAAA,UAAQW,UAAU,oBAAoBF,QAASxC,EAAKK,QAApD,WACAyB,EAAAxD,EAAAyD,cAAA,WACDD,EAAAxD,EAAAyD,cAAA,KAAGW,UAAU,oBAAoBC,KAAK,UAAtC,UACAb,EAAAxD,EAAAyD,cAAA,KAAGW,UAAU,oBAAoBC,KAAK,aAAtC,eAnGQ3C,EA0Gd4C,UAAY,WACX,OACCd,EAAAxD,EAAAyD,cAAA,WAEE/B,EAAK6C,cACFf,EAAAxD,EAAAyD,cAAA,KAAGW,UAAU,oBAAoBC,KAAK,UAAtC,eACA,KAhHO3C,EAsHdgC,eAAiB,WAChB,OAAwB,OAApBhC,EAAKwB,MAAMZ,MAvHFZ,EA6Hd6C,YAAc,WACP,OAAwB,OAApB7C,EAAKwB,MAAMZ,MACsB,UAA7BZ,EAAKwB,MAAMZ,KAAKqB,UA/HjBjC,EAsId8C,aAAe,WAGd,IAFA,IAAIC,EAAmB,GACnBnB,EAAW5B,EAAKwB,MAAMI,SACjBoB,EAAI,EAAGA,EAAIpB,EAASqB,OAAQD,IACpCD,EAAiBG,KAAKpB,EAAAxD,EAAAyD,cAAA,UAAKH,EAASoB,GAAGzB,QAAjB,KAA4BK,EAASoB,GAAGpC,KAAKqB,SAA7C,MAEvB,OAAOc,GA1IP/C,EAAKwB,MAAQ,CACZI,SAAU,GACVV,WAAY,GACZN,KAAM,MALMZ,oFASO,IAAAmD,EAAA9D,KACpBsC,EACEhE,SACAG,KAAK,SAAA8D,GACLuB,EAAKxC,SAAS,CAAEiB,eAGlB,IAAMwB,EAAiB5C,OAAOC,aAAa4C,QAAQ,cACnD,GAAID,EAAgB,CACnB,IAAMxC,EAAO0C,KAAKC,MAAMH,GACxBrC,QAAQC,IAAIJ,GACZvB,KAAKsB,SAAS,CAAEC,SAChBe,EAAelC,SAASmB,EAAKnD,yCA4H9B,OADAsD,QAAQC,IAAI3B,KAAKmC,MAAMN,YAEtBY,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,YACCD,EAAAxD,EAAAyD,cAAA,MAAII,MAAM,WAAV,0BACAL,EAAAxD,EAAAyD,cAAA,WAAM1C,KAAKwC,aACXC,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,gBACVL,EAAAxD,EAAAyD,cAAA,KAAGI,MAAM,iCAEVL,EAAAxD,EAAAyD,cAAA,UACE1C,KAAKyD,gBAENzD,KAAK6C,oBACL7C,KAAKoD,4BA/JQe,IAAMC,mBCSVC,EAAA,CAAEC,MAVN,eAAAzF,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOoF,GAAP,IAAA7F,EAAA,OAAAM,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACWlB,IAAMqB,KAAK,kCAAmC2E,GADzD,cACN7F,EADMa,EAAAM,KAAAN,EAAAO,OAAA,SAELpB,EAASC,MAFJ,wBAAAY,EAAAQ,SAAAZ,EAAAa,SAAH,gBAAAC,GAAA,OAAApB,EAAAqB,MAAAF,KAAAG,YAAA,GAUaqE,SALV,eAAAC,EAAA3F,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAwF,EAAOH,GAAP,IAAA7F,EAAA,OAAAM,EAAAC,EAAAK,KAAA,SAAAqF,GAAA,cAAAA,EAAAnF,KAAAmF,EAAAlF,MAAA,cAAAkF,EAAAlF,KAAA,EACQlB,IAAMqB,KAAK,kCAAmC2E,GADtD,cACT7F,EADSiG,EAAA9E,KAAA8E,EAAA7E,OAAA,SAERpB,EAASC,MAFD,wBAAAgG,EAAA5E,SAAA2E,EAAA1E,SAAH,gBAAA4E,GAAA,OAAAH,EAAAvE,MAAAF,KAAAG,YAAA,ICsDC0E,cAvDd,SAAAA,IAAc,IAAAlE,EAAA,OAAA7B,OAAA8B,EAAA,EAAA9B,CAAAkB,KAAA6E,IACblE,EAAA7B,OAAA+B,EAAA,EAAA/B,CAAAkB,KAAAlB,OAAAgC,EAAA,EAAAhC,CAAA+F,GAAA9D,KAAAf,QAODsE,MARc,eAAAzF,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAQN,SAAAC,EAAO8B,GAAP,IAAAM,EAAA,OAAAvC,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACPwB,EAAMC,iBADC3B,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIaqF,EAAaR,MAAM,CACrC1B,SAAUjC,EAAKwB,MAAMS,SACrBmC,SAAUpE,EAAKwB,MAAM4C,WANhB,OAIAxD,EAJAhC,EAAAM,KAQNsB,OAAOC,aAAa4D,QAAQ,aAAcf,KAAKgB,UAAU1D,IACzDJ,OAAO+D,SAASC,QAAQ,yBATlB5F,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAA6F,GAAA7F,EAAA,SAWNmC,QAAQC,IAARpC,EAAA6F,IAXM,yBAAA7F,EAAAQ,SAAAZ,EAAAa,KAAA,YARM,gBAAAC,GAAA,OAAApB,EAAAqB,MAAAF,KAAAG,YAAA,GAAAQ,EAuBdiB,aAAe,SAACX,GACfN,EAAKW,SAALxC,OAAAuG,EAAA,EAAAvG,CAAA,GAAiBmC,EAAMa,OAAOmB,KAAOhC,EAAMa,OAAOC,SAtBlDpB,EAAKwB,MAAQ,CACZS,SAAU,GACVmC,SAAU,IAJEpE,wEA6Bb,OADAe,QAAQC,IAAI3B,KAAKmC,MAAMS,SAAW,IAAM5C,KAAKmC,MAAM4C,UAElDtC,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,QAAM4C,OAAO,QACZ7C,EAAAxD,EAAAyD,cAAA,MAAII,MAAM,WAAV,0BACAL,EAAAxD,EAAAyD,cAAA,MAAII,MAAM,WAAV,SACAL,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,gBACVL,EAAAxD,EAAAyD,cAAA,KAAGI,MAAM,iCAEVL,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,SAAOX,MAAO/B,KAAKmC,MAAMS,SAAUG,SAAU/C,KAAK4B,aAAckB,MAAM,eAAeE,KAAK,WAAWC,KAAK,WAAWC,YAAY,cAElIT,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,SAAOX,MAAO/B,KAAKmC,MAAM4C,SAAUhC,SAAU/C,KAAK4B,aAAckB,MAAM,eAAeE,KAAK,WAAWC,KAAK,WAAWC,YAAY,cAElIT,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,UAAQI,MAAM,4BAA4BE,KAAK,SAASG,QAASnD,KAAKsE,OAAtE,WAED7B,EAAAxD,EAAAyD,cAAA,KAAGY,KAAK,aAAR,uCACAb,EAAAxD,EAAAyD,cAAA,WACAD,EAAAxD,EAAAyD,cAAA,KAAGY,KAAK,KAAR,8BAlDmBa,IAAMC,WCwDfmB,cAtDd,SAAAA,IAAc,IAAA5E,EAAA,OAAA7B,OAAA8B,EAAA,EAAA9B,CAAAkB,KAAAuF,IACb5E,EAAA7B,OAAA+B,EAAA,EAAA/B,CAAAkB,KAAAlB,OAAAgC,EAAA,EAAAhC,CAAAyG,GAAAxE,KAAAf,QAODwE,SARc,eAAA3F,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAQH,SAAAC,EAAO8B,GAAP,OAAAjC,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACVwB,EAAMC,iBADI3B,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGUqF,EAAaN,SAAS,CACxC5B,SAAUjC,EAAKwB,MAAMS,SACrBmC,SAAUpE,EAAKwB,MAAM4C,WALb,OAAAxF,EAAAM,KAOTc,EAAKW,SAAS,CAAEsB,SAAU,GAAImC,SAAU,KACxC5D,OAAO+D,SAASC,QAAQ,+BARf5F,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAA6F,GAAA7F,EAAA,SAUTkC,MAAKlC,EAAA6F,IAVI,yBAAA7F,EAAAQ,SAAAZ,EAAAa,KAAA,YARG,gBAAAC,GAAA,OAAApB,EAAAqB,MAAAF,KAAAG,YAAA,GAAAQ,EAsBdiB,aAAe,SAACX,GACfN,EAAKW,SAALxC,OAAAuG,EAAA,EAAAvG,CAAA,GAAiBmC,EAAMa,OAAOmB,KAAOhC,EAAMa,OAAOC,SArBlDpB,EAAKwB,MAAQ,CACZS,SAAU,GACVmC,SAAU,IAJEpE,wEA4Bb,OADAe,QAAQC,IAAI3B,KAAKmC,MAAMS,SAAW,IAAM5C,KAAKmC,MAAM4C,UAElDtC,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,QAAM4C,OAAO,QACZ7C,EAAAxD,EAAAyD,cAAA,MAAII,MAAM,WAAV,0BACAL,EAAAxD,EAAAyD,cAAA,MAAII,MAAM,WAAV,gBACAL,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,gBACVL,EAAAxD,EAAAyD,cAAA,KAAGI,MAAM,iCAEVL,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,SAAOX,MAAO/B,KAAKmC,MAAMS,SAAUG,SAAU/C,KAAK4B,aAAckB,MAAM,eAAeE,KAAK,WAAWC,KAAK,WAAWC,YAAY,cAElIT,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,SAAOX,MAAO/B,KAAKmC,MAAM4C,SAAUhC,SAAU/C,KAAK4B,aAAckB,MAAM,eAAeE,KAAK,WAAWC,KAAK,WAAWC,YAAY,cAElIT,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACVL,EAAAxD,EAAAyD,cAAA,UAAQI,MAAM,4BAA4BE,KAAK,SAASG,QAASnD,KAAKwE,UAAtE,aAED/B,EAAAxD,EAAAyD,cAAA,KAAGY,KAAK,UAAR,4CACAb,EAAAxD,EAAAyD,cAAA,WACAD,EAAAxD,EAAAyD,cAAA,KAAGY,KAAK,KAAR,8BAjDsBa,IAAMC,WCiDlBoB,cAhDX,SAAAA,IAAc,IAAA7E,EAAA,OAAA7B,OAAA8B,EAAA,EAAA9B,CAAAkB,KAAAwF,IACV7E,EAAA7B,OAAA+B,EAAA,EAAA/B,CAAAkB,KAAAlB,OAAAgC,EAAA,EAAAhC,CAAA0G,GAAAzE,KAAAf,QAcJyD,aAAe,WAGX,IAFA,IAAIC,EAAmB,GACnBnB,EAAW5B,EAAKwB,MAAMI,SAFTkD,EAAA,SAGR9B,GACLD,EAAiBG,KAAKpB,EAAAxD,EAAAyD,cAAA,UAAKH,EAASoB,GAAGzB,QAAjB,KAA4BK,EAASoB,GAAGpC,KAAKqB,SAA7C,IACtBH,EAAAxD,EAAAyD,cAAA,UAAQM,KAAK,SAASG,QAAS,kBAAMxC,EAAK+E,cAAcnD,EAASoB,GAAGnD,MAApE,aAFKmD,EAAI,EAAGA,EAAIpB,EAASqB,OAAQD,IAAK8B,EAAjC9B,GAIT,OAAOD,GAtBG/C,EAyBd+E,cAAgB,SAAClF,GACb8B,EAAe/B,OAAOC,IAxBtBG,EAAKwB,MAAQ,CACTI,SAAU,IAHJ5B,oFAOO,IAAAmD,EAAA9D,KACjBsC,EACKhE,SACAG,KAAK,SAAA8D,GACFuB,EAAKxC,SAAS,CAAEiB,gDAmBxB,OACIE,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,cACPL,EAAAxD,EAAAyD,cAAA,YACID,EAAAxD,EAAAyD,cAAA,MAAII,MAAM,WAAV,0BACAL,EAAAxD,EAAAyD,cAAA,MAAII,MAAM,WAAV,eACAL,EAAAxD,EAAAyD,cAAA,OAAKI,MAAM,gBACPL,EAAAxD,EAAAyD,cAAA,KAAGI,MAAM,iCAEbL,EAAAxD,EAAAyD,cAAA,UACK1C,KAAKyD,gBAEVhB,EAAAxD,EAAAyD,cAAA,KAAGY,KAAK,KAAR,8BA3CAa,IAAMC,mCC0CXuB,cAzCX,SAAAA,IAAc,IAAAhF,EAAA,OAAA7B,OAAA8B,EAAA,EAAA9B,CAAAkB,KAAA2F,IACVhF,EAAA7B,OAAA+B,EAAA,EAAA/B,CAAAkB,KAAAlB,OAAAgC,EAAA,EAAAhC,CAAA6G,GAAA5E,KAAAf,QAeJwD,YAAc,WACV,OAAwB,OAApB7C,EAAKwB,MAAMZ,MACsB,UAA7BZ,EAAKwB,MAAMZ,KAAKqB,UAhBxBjC,EAAKwB,MAAQ,CACTZ,KAAM,MAHAZ,oFAQV,IAAMoD,EAAiB5C,OAAOC,aAAa4C,QAAQ,cACnD,GAAID,EAAgB,CAChB,IAAMxC,EAAO0C,KAAKC,MAAMH,GACxBrC,QAAQC,IAAIJ,GACZvB,KAAKsB,SAAS,CAAEC,2CAaf,IAAAuC,EAAA9D,KAAA4F,EACsC5F,KAAK6F,MAA7BzB,EADdwB,EACGE,UAAyBD,EAD5B/G,OAAAiH,EAAA,EAAAjH,CAAA8G,EAAA,eAGL,OACInD,EAAAxD,EAAAyD,cAACsD,EAAA,EAADlH,OAAAmH,OAAA,GACQJ,EADR,CAEIK,OAAQ,SAAAL,GAAK,OACT/B,EAAKN,cACDf,EAAAxD,EAAAyD,cAAC0B,EAAcyB,GACfpD,EAAAxD,EAAAyD,cAACyD,EAAA,EAAD,CAAUC,GAAG,iBApCRjC,IAAMC,2BC4CpBiC,cAnCd,SAAAA,IAAc,IAAA1F,EAAA,OAAA7B,OAAA8B,EAAA,EAAA9B,CAAAkB,KAAAqG,IACb1F,EAAA7B,OAAA+B,EAAA,EAAA/B,CAAAkB,KAAAlB,OAAAgC,EAAA,EAAAhC,CAAAuH,GAAAtF,KAAAf,QACKmC,MAAQ,CACZI,SAAU,GACVV,WAAY,GACZN,KAAM,MALMZ,oFAWb,IAAMoD,EAAiB5C,OAAOC,aAAa4C,QAAQ,cACnD,GAAID,EAAgB,CACnB,IAAMxC,EAAO0C,KAAKC,MAAMH,GACxBrC,QAAQC,IAAIJ,EAAK+E,QACjBtG,KAAKsB,SAAS,CAAEC,SAChBe,EAAelC,SAASmB,EAAKnD,yCAM9B,OACCqE,EAAAxD,EAAAyD,cAAC6D,EAAA,EAAD,KACC9D,EAAAxD,EAAAyD,cAAC8D,EAAA,EAAD,KACC/D,EAAAxD,EAAAyD,cAACsD,EAAA,EAAD,CAAOS,OAAK,EAACC,KAAK,IAAIZ,UAAWpF,IACjC+B,EAAAxD,EAAAyD,cAACsD,EAAA,EAAD,CAAOS,OAAK,EAACC,KAAK,SAASZ,UAAWjB,IACtCpC,EAAAxD,EAAAyD,cAACsD,EAAA,EAAD,CAAOS,OAAK,EAACC,KAAK,YAAYZ,UAAWP,IACzC9C,EAAAxD,EAAAyD,cAACiE,EAAD,CAAgBD,KAAK,SAASZ,UAAWN,aA9B5BrB,IAAMC,WCEJwC,QACW,cAA7BzF,OAAO+D,SAAS2B,UAEe,UAA7B1F,OAAO+D,SAAS2B,UAEhB1F,OAAO+D,SAAS2B,SAASC,MACvB,2DCZNC,IAASb,OAAOzD,EAAAxD,EAAAyD,cAACsE,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM5I,KAAK,SAAA6I,GACjCA,EAAaC","file":"static/js/main.9d837ff9.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/messages'\n\nlet token = null\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst create = async (newObject) => {\n  const config = {\n    headers: { 'Authorization': token }\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, setToken, remove }","import React from 'react';\nimport '../styles.css'\nimport messageService from '../services/messages'\n\nclass Home extends React.Component {\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tmessages: [],\n\t\t\tnewMessage: '',\n\t\t\tuser: null\n\t\t}\n\t}\n\n\tcomponentWillMount() {\n\t\tmessageService\n\t\t\t.getAll()\n\t\t\t.then(messages => {\n\t\t\t\tthis.setState({ messages })\n\t\t\t})\n\n\t\tconst loggedUserJSON = window.localStorage.getItem('loggedUser')\n\t\tif (loggedUserJSON) {\n\t\t\tconst user = JSON.parse(loggedUserJSON)\n\t\t\tconsole.log(user)\n\t\t\tthis.setState({ user })\n\t\t\tmessageService.setToken(user.token)\n\t\t}\n\t}\n\n\tlogOut = (event) => {\n\t\tevent.preventDefault()\n\t\ttry {\n\t\t\twindow.localStorage.removeItem('loggedUser')\n\t\t\tthis.setState({\n\t\t\t\tuser: null\n\t\t\t})\n\t\t} catch (error) {\n\t\t\talert(error)\n\t\t\tconsole.log(error)\n\t\t}\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({ newMessage: event.target.value })\n\t}\n\n\taddNewMessage = async (event) => {\n\t\tevent.preventDefault()\n\t\tconst messageObject = {\n\t\t\tcontent: this.state.newMessage,\n\t\t\tdate: new Date(),\n\t\t\tuser: this.state.user,\n\t\t}\n\n\t\tmessageService.create(messageObject)\n\t\t\t.then(newMessage => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tmessages: this.state.messages.concat(newMessage),\n\t\t\t\t\tnewMessage: ''\n\t\t\t\t})\n\t\t\t})\n\t}\n\n\thelloUser = () => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.userIsLoggedIn()\n\t\t\t\t? <h3>Good day, {this.state.user.username} </h3>\n\t\t\t\t\t\t: \"Hello visitor\"\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n\taddNewMessageForm = () => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.userIsLoggedIn()\n\t\t\t\t\t\t?\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<input value={this.state.newMessage} onChange={this.handleChange} class=\"form-control\" type=\"text\" name=\"message\" placeholder=\"...\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<button class=\"btn btn-primary btn-block\" type=\"submit\" onClick={this.addNewMessage}>Add new message</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: \"You may add your own comments once you log in\"\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tviewLoginButtons = () => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.userIsLoggedIn()\n\t\t\t\t\t\t? <button className=\"btn2 btn-6 btn-6a\" onClick={this.logOut}>Log out</button>\n\t\t\t\t\t\t: <div>\n\t\t\t\t\t\t\t<a className=\"btn2 btn-6 btn-6a\" href='/login'>Log in</a>\n\t\t\t\t\t\t\t<a className=\"btn2 btn-6 btn-6a\" href='/register'>Register</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tviewAdmin = () => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.userIsAdmin()\n\t\t\t\t\t\t? <a className=\"btn2 btn-6 btn-6a\" href='/admin'>Admin tools</a>\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tuserIsLoggedIn = () => {\n\t\tif (this.state.user !== null) {\n\t\t\treturn true\n\t\t}\n\t\treturn false;\n\t}\n\n\tuserIsAdmin = () => {\n        if (this.state.user !== null) {\n            if (this.state.user.username === \"Matti\") {\n                return true\n            }\n        }\n        return false\n    }\n\n\tviewMessages = () => {\n\t\tlet messagesToRender = [];\n\t\tlet messages = this.state.messages\n\t\tfor (let i = 0; i < messages.length; i++) {\n\t\t\tmessagesToRender.push(<li>{messages[i].content} ({messages[i].user.username})</li>)\n\t\t}\n\t\treturn messagesToRender\n\t}\n\n\trender() {\n\t\tconsole.log(this.state.newMessage)\n\t\treturn (\n\t\t\t<div class=\"login-dark\">\n\t\t\t\t<form>\n\t\t\t\t\t<h1 class=\"sr-only\">Insecure cyberbase app</h1>\n\t\t\t\t\t<div>{this.helloUser()}</div>\n\t\t\t\t\t<div class=\"illustration\">\n\t\t\t\t\t\t<i class=\"icon ion-ios-locked-outline\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{this.viewMessages()}\n\t\t\t\t\t</ul>\n\t\t\t\t\t{this.addNewMessageForm()}\n\t\t\t\t\t{this.viewLoginButtons()}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;\n","\nimport axios from 'axios'\n\nconst login = async (credentials) => {\n  const response = await axios.post('http://localhost:3001/api/login', credentials)\n  return response.data\n}\n\nconst register = async (credentials) => {\n  const response = await axios.post('http://localhost:3001/api/users', credentials)\n  return response.data\n}\n\nexport default { login, register }","import React from 'react';\nimport '../styles.css'\nimport loginService from '../services/login'\nimport messageService from '../services/messages'\n\nclass LoginForm extends React.Component {\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t}\n\t}\n\n\tlogin = async (event) => {\n\t\tevent.preventDefault()\n\n\t\ttry {\n\t\t\tconst user = await loginService.login({\n\t\t\t\tusername: this.state.username,\n\t\t\t\tpassword: this.state.password\n\t\t\t})\n\t\t\twindow.localStorage.setItem('loggedUser', JSON.stringify(user))\n\t\t\twindow.location.replace(\"http://localhost:3000\");\n\t\t} catch (exception) {\n\t\t\tconsole.log(exception)\n\t\t}\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({ [event.target.name]: event.target.value })\n\t}\n\n\trender() {\n\t\tconsole.log(this.state.username + ' ' + this.state.password)\n\t\treturn (\n\t\t\t<div class=\"login-dark\">\n\t\t\t\t<form method=\"post\">\n\t\t\t\t\t<h1 class=\"sr-only\">Insecure cyberbase app</h1>\n\t\t\t\t\t<h2 class=\"sr-only\">Login</h2>\n\t\t\t\t\t<div class=\"illustration\">\n\t\t\t\t\t\t<i class=\"icon ion-ios-locked-outline\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input value={this.state.username} onChange={this.handleChange} class=\"form-control\" type=\"username\" name=\"username\" placeholder=\"Username\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input value={this.state.password} onChange={this.handleChange} class=\"form-control\" type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<button class=\"btn btn-primary btn-block\" type=\"submit\" onClick={this.login}>Log In</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a href='/register'>No account? Click here to register.</a>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<a href='/'>Back to main page</a>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LoginForm;\n","import React from 'react';\nimport '../styles.css'\nimport loginService from '../services/login'\nimport messageService from '../services/messages'\n\nclass RegisterForm extends React.Component {\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t}\n\t}\n\n\tregister = async (event) => {\n\t\tevent.preventDefault()\n\t\ttry {\n\t\t\tconst user = await loginService.register({\n\t\t\t\tusername: this.state.username,\n\t\t\t\tpassword: this.state.password\n\t\t\t})\n\t\t\tthis.setState({ username: '', password: '' })\n\t\t\twindow.location.replace(\"http://localhost:3000/login\");\n\t\t} catch (exception) {\n\t\t\talert(exception)\n\t\t}\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({ [event.target.name]: event.target.value })\n\t}\n\n\trender() {\n\t\tconsole.log(this.state.username + ' ' + this.state.password)\n\t\treturn (\n\t\t\t<div class=\"login-dark\">\n\t\t\t\t<form method=\"post\">\n\t\t\t\t\t<h1 class=\"sr-only\">Insecure cyberbase app</h1>\n\t\t\t\t\t<h2 class=\"sr-only\">Registration</h2>\n\t\t\t\t\t<div class=\"illustration\">\n\t\t\t\t\t\t<i class=\"icon ion-ios-locked-outline\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input value={this.state.username} onChange={this.handleChange} class=\"form-control\" type=\"username\" name=\"username\" placeholder=\"Username\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input value={this.state.password} onChange={this.handleChange} class=\"form-control\" type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<button class=\"btn btn-primary btn-block\" type=\"submit\" onClick={this.register}>Register</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a href='/login'>Already registered? Click here to login.</a>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<a href='/'>Back to main page</a>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RegisterForm;\n","import React from 'react';\nimport '../styles.css'\nimport messageService from '../services/messages'\n\nclass Admin extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {\n            messages: []\n        }\n    }\n\n    componentWillMount() {\n        messageService\n            .getAll()\n            .then(messages => {\n                this.setState({ messages })\n            })\n    }\n\n    viewMessages = () => {\n        let messagesToRender = [];\n        let messages = this.state.messages\n        for (let i = 0; i < messages.length; i++) {\n            messagesToRender.push(<li>{messages[i].content} ({messages[i].user.username})\n            <button type=\"submit\" onClick={() => this.deleteMessage(messages[i].id)}>Delete</button></li>)\n        }\n        return messagesToRender\n    }\n    \n    deleteMessage = (id) => {\n        messageService.remove(id)\n    }\n\n    render() {\n        return (\n            <div class=\"login-dark\">\n                <form>\n                    <h1 class=\"sr-only\">Insecure cyberbase app</h1>\n                    <h2 class=\"sr-only\">Admin tools</h2>\n                    <div class=\"illustration\">\n                        <i class=\"icon ion-ios-locked-outline\"></i>\n                    </div>\n                    <ul>\n                        {this.viewMessages()}\n                    </ul>\n                    <a href='/'>Back to main page</a>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default Admin;\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nclass ProtectedRoute extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {\n            user: null\n        }\n    }\n\n    componentWillMount() {\n        const loggedUserJSON = window.localStorage.getItem('loggedUser')\n        if (loggedUserJSON) {\n            const user = JSON.parse(loggedUserJSON)\n            console.log(user)\n            this.setState({ user })\n        }\n    }\n\n    userIsAdmin = () => {\n        if (this.state.user !== null) {\n            if (this.state.user.username === \"Matti\") {\n                return true\n            }\n        }\n        return false\n    }\n\n    render() {\n        const { component: Component, ...props } = this.props\n\n        return (\n            <Route\n                {...props}\n                render={props => (\n                    this.userIsAdmin() ?\n                        <Component {...props} /> :\n                        <Redirect to='/' />\n                )}\n            />\n        )\n    }\n}\n\nexport default ProtectedRoute","import React from 'react';\nimport './styles.css'\nimport Home from './components/Home'\nimport LoginForm from './components/LoginForm'\nimport RegisterForm from './components/RegisterForm'\nimport messageService from './services/messages'\nimport Admin from './components/Admin'\nimport ProtectedRoute from './ProtectedRoute'\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\n\nclass App extends React.Component {\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tmessages: [],\n\t\t\tnewMessage: '',\n\t\t\tuser: null\n\t\t}\n\t}\n\n\n\tcomponentWillMount() {\n\t\tconst loggedUserJSON = window.localStorage.getItem('loggedUser')\n\t\tif (loggedUserJSON) {\n\t\t\tconst user = JSON.parse(loggedUserJSON)\n\t\t\tconsole.log(user.access)\n\t\t\tthis.setState({ user })\n\t\t\tmessageService.setToken(user.token)\n\t\t}\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t<Route exact path=\"/login\" component={LoginForm} />\n\t\t\t\t\t<Route exact path=\"/register\" component={RegisterForm} />\n\t\t\t\t\t<ProtectedRoute path=\"/admin\" component={Admin} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}